---
layout: post
title: 'proc metalib - ERROR: Invalid use of sign notation'
date: '2016-09-22T02:10:00.001-07:00'
author: Allan Bowe
tags:
- 'ERROR: Invalid use of sign notation.'
modified_time: '2016-10-18T01:55:09.847-07:00'
thumbnail: /assets/images/Capture.PNG
blogger_id: tag:blogger.com,1999:blog-3488921339026456633.post-604539293528251224
blogger_orig_url: http://www.rawsas.com/2016/09/proc-metalib-error-invalid-use-of-sign.html
---

So today I dropped a column in a SQL Server table (using SSMS) and duly checked out the SAS metadata in DI Studio in order to 'Update Metadata'.<br /><br />It failed with a strange message:<br /><br /><div class="MsoNormal"><span style="background: white; color: red; font-family: &quot;courier new&quot;;">ERROR: Invalid use of sign notation.<o:p></o:p></span></div><br />Curious, I extracted the code and ran it in Enterprise Guide (the repository ID would ensure it ran against my checkout). &nbsp;Same result, so following the advice in<a href="http://support.sas.com/kb/40/429.html" target="_blank"> usage note 40429</a> I ran with maximum logging (for 9.3) as follows:<br /><br /><div class="MsoNormal"><span style="background: white; color: blue; font-family: &quot;courier new&quot;;">options</span><span style="background: white; font-family: &quot;courier new&quot;;"> sastrace=</span><span style="background: white; color: purple; font-family: &quot;courier new&quot;;">',,,d'</span><span style="background: white; font-family: &quot;courier new&quot;;">sastraceloc=saslog nostsuffix;<o:p></o:p></span></div><div class="MsoNormal"><b><span style="background: white; color: navy; font-family: &quot;courier new&quot;;">proc</span></b><span style="background: white; font-family: &quot;courier new&quot;;"> </span><b><span style="background: white; color: navy; font-family: &quot;courier new&quot;;">metalib</span></b><span style="background: white; font-family: &quot;courier new&quot;;"> tl=</span><b><span style="background: white; color: teal; font-family: &quot;courier new&quot;;">4095</span></b><span style="background: white; font-family: &quot;courier new&quot;;">; </span><span style="background: white; color: green; font-family: &quot;courier new&quot;;">/* max is 4094 for 9.2 */</span><span style="background: white; font-family: &quot;courier new&quot;;"><o:p></o:p></span></div><div class="MsoNormal"><span style="background: white; font-family: &quot;courier new&quot;;">&nbsp; omr (libid=</span><span style="background: white; color: purple; font-family: &quot;courier new&quot;;">"B900004R"</span><span style="background: white; font-family: &quot;courier new&quot;;"> repid=</span><span style="background: white; color: purple; font-family: &quot;courier new&quot;;">"A5HOSDWY"</span><span style="background: white; font-family: &quot;courier new&quot;;">);<o:p></o:p></span></div><div class="MsoNormal"><span style="background: white; font-family: &quot;courier new&quot;;">&nbsp; report(type = summary);<o:p></o:p></span></div><div class="MsoNormal"><span style="background: white; font-family: &quot;courier new&quot;;">&nbsp; update_rule = (noadd);<o:p></o:p></span></div><div class="MsoNormal"><span style="background: white; font-family: &quot;courier new&quot;;">&nbsp; select (A5GF9HGW.AD00016K);<o:p></o:p></span></div><div class="MsoNormal"></div><div class="MsoNormal"><b><span style="background: white; color: navy; font-family: &quot;courier new&quot;;">run</span></b><span style="background: white; font-family: &quot;courier new&quot;;">;</span><o:p></o:p></div><br />The last operation before my SAS error was:<br /><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">(MSCMLB) getREPindices: Enter</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">(MSCMLB) getREPindices: Index object name is pk_rm_objects</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">(MSCMLB) getREPindices: Index metaid is A5GF9HGW.AI00015K</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">(MSCMLB) getREPindices: IndexName is pk_rm_objects</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">(MSCMLB) getREPindices: Exit; &nbsp;Return Code is -2147475442</span><br /><br />This indicated an issue with the index. &nbsp;I tried various ways of redefining the index in SQL Server (from clustered to non-clustered, uppercase name to lowercase etc) to no avail. &nbsp;In the end, the solution was simply to right click the metadata item in DI Studio, Properties, selecting the Index tab. &nbsp;At this point I got a popup (similar to below) which mentioned the index needing to be marked as unique, and also about re-ordering columns. &nbsp;I clicked yes, and - voila - I was then able to update the metadata!<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="/assets/images/Capture.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="131" src="/assets/images/Capture.PNG" width="320" /></a></div><br />
